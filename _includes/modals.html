<!-- Portfolio Modals -->
{% for post in site.posts %}
{% if post.modal-id %}
<div class="modal fade portfolio-modal" id="portfolioModal-{{ post.modal-id }}" tabindex="-1" role="dialog" aria-labelledby="portfolioModalLabel-{{ post.modal-id }}" aria-hidden="true">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-uppercase" id="portfolioModalLabel-{{ post.modal-id }}">{{ post.title | default: post.category | escape }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container"> <!-- Keep container for centered content if desired, or make modal-body itself more structured -->
          <div class="row justify-content-center">
            <div class="col-lg-10"> <!-- Adjusted for potentially wider content area -->
              <!-- Title repeated here if needed, or rely on header. For now, matching old structure a bit. -->
              <h2 class="text-uppercase mb-3">{{ post.title | default: post.category | escape }}</h2>
              <hr class="star-primary mb-4">
              <img src="{{ "/img/portfolio/" | prepend: site.baseurl }}{{ post.img }}" class="img-fluid d-block mx-auto mb-4" alt="{{ post.alt | escape }}">
              {% if post.description %}
                <div class="mb-4">{{ post.description | markdownify }}</div> <!-- Use markdownify if description contains markdown -->
              {% endif %}
              <ul class="list-unstyled item-details mb-4">
                {% if post.client %}
                <li><strong>Client:</strong> {{ post.client | escape }}</li>
                {% endif %}
                {% if post.project-date %}
                <li><strong>Date:</strong> {{ post.project-date | escape }}</li>
                {% endif %}
                {% if post.category %}
                <li><strong>Service:</strong> {{ post.category | escape }}</li>
                {% endif %}
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          <i class="fas fa-times"></i> Close Project
        </button>
      </div>
    </div>
  </div>
</div>
{% endif %}
{% endfor %}
